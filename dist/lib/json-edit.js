"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.JsonEdit=n()}(window,function(){function e(e){switch(r.call(e).toLowerCase()){case"[object object]":return"object";case"[object array]":return"array";case"[object null]":return"null";case"[object string]":return"string";case"[object number]":return"number";case"[object boolean]":return e?"true":"false"}return""}function n(e,n,t,o){var i={type:e};return"#"==t?(i.isRoot="the-key",i.key="root",i.keyDis="disabled"):t&&(i.key=t),i[e+"Type"]="selected",i.child=o,["number","string"].indexOf(e)>=0&&(i.value=n),"object"==e&&(i.isKey="the-key"),l.replace(/\{\#(\w+)\}/g,function(e,n){var t=i[n];return void 0===t?"":t})}function t(o,i){var r=e(o);if(""==r)return"";if("object"==r){var l=[];for(var a in o)l.push(t(o[a],a));return n(r,o,i,l.join(""))}if("array"==r){for(var c=[],s=0;s<o.length;s+=1)c.push(t(o[s]));return n(r,o,i,c.join(""))}return n(r,o,i,"")}function o(e,n){return a.innerHTML=t(e,n),a.firstChild}function i(e){for(var n=e.getElementsByTagName("*"),t={$:e.parentNode,$cols:e,$child:e.nextElementSibling},o=0;o<n.length;o+=1){var i=n[o],r=i.getAttribute("lje");r&&(t[r]=i)}return t}var r=Object.prototype.toString,l='<div class="lje-line {#isRoot}">\n                        <div class="lje-cols type-{#type}">\n                            <div class="lje-col key">\n                                <div class="lje-ipt">\n                                    <input type="text" {#keyDis} value="{#key}" />\n                                </div>\n                            </div>\n                            <div class="lje-col icon is">\n                                <div class="lje-is">:</div>\n                            </div>\n                            <div class="lje-col select">\n                                <div class="lje-select">\n                                    <span class="select-c">\n                                        <select lje="sel">\n                                            <option value="sting" {#stringType}>string</option>\n                                            <option value="number" {#numberType}>number</option>\n                                            <option value="object" {#objectType}>object</option>\n                                            <option value="array" {#arrayType}>array</option>\n                                            <option value="null" {#nullType}>null</option>\n                                            <option value="true" {#trueType}>true</option>\n                                            <option value="false" {#falseType}>false</option>\n                                        </select>\n                                    </span>\n                                </div>\n                            </div>\n                            <div class="lje-col full">\n                                <div class="lje-ipt">\n                                    <input type="text" lje="val" value="{#value}" />\n                                </div>\n                            </div>\n                            <div class="lje-col icon add">\n                                <div class="lje-add" lje-click="add"></div>\n                            </div>\n                            <div class="lje-col icon remove">\n                                <div class="lje-remove" lje-click="remove"></div>\n                            </div>\n                        </div>\n                        <div class="lje-child {#isKey}">{#child}</div>\n                    </div>'.replace(/>\s+</g,"><"),a=document.createElement("div"),c={change:function(e,n){var t=i(e);if(t.$cols.className="lje-cols type-"+n,t.$child.className="lje-child"+("object"==n?" the-key":""),"number"==n)return void(t.val.value=t.val.value.replace(/\D/g,"")||0);["object","array"].indexOf(n)<0&&(t.$child.innerHTML="")},add:function(e){var n=i(e),t=o("");n.$child.appendChild(t)},remove:function(e){var n=e.parentNode;n.parentNode.removeChild(n)}};return function(){function e(n){_classCallCheck(this,e),this.$="string"==typeof n?document.getElementById(n):n,this.$.onchange=function(e){var n=e.target;if("select"==n.tagName.toLowerCase()){var t=n.value;c.change(n.parentNode.parentNode.parentNode.parentNode,t)}},this.$.onclick=function(e){var n=e.target,t=c[n.getAttribute("lje-click")];t&&t(n.parentNode.parentNode)}}return _createClass(e,[{key:"renderByData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$.innerHTML='<div class="locus-json-edit">'+t(e,"#")+"</div>"}}]),e}()});